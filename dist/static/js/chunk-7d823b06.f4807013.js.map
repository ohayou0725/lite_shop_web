{"version":3,"sources":["webpack:///./src/views/category/index.vue?b8bf","webpack:///src/views/category/index.vue","webpack:///./src/views/category/index.vue?0c79","webpack:///./src/views/category/index.vue","webpack:///./src/api/category.js","webpack:///./src/views/category/index.vue?5a17"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","items","active","on","$event","onNavClick","scopedSlots","_u","key","fn","banner","img","_v","_l","single","idx","getCategoryGoods","id","_s","text","item","index","proxy","staticRenderFns","name","data","cate","mounted","getCateItems","getCateContent","methods","list","forEach","params","$router","push","path","query","component","request","url","method","getChildrenCate"],"mappings":"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","file":"static/js/chunk-7d823b06.f4807013.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"category\"},[_c('van-tree-select',{attrs:{\"height\":\"calc(100vh - 50px)\",\"items\":_vm.items,\"main-active-index\":_vm.active},on:{\"update:mainActiveIndex\":function($event){_vm.active=$event},\"update:main-active-index\":function($event){_vm.active=$event},\"click-nav\":function($event){return _vm.onNavClick()}},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"main\"},[_c('image-pic',{attrs:{\"width\":\"100%\",\"height\":\"85\",\"fit\":\"fill\",\"src\":_vm.banner.img}}),(_vm.active == 0)?_c('div',[_c('h3',{staticClass:\"item__title\"},[_vm._v(\"热门推荐\")]),_c('div',{staticClass:\"main__item__content\"},[_c('div',{staticClass:\"main__item\"},[_c('van-grid',{attrs:{\"column-num\":3,\"border\":false}},_vm._l((_vm.cate),function(single,idx){return _c('van-grid-item',{key:idx,staticClass:\"single\",on:{\"click\":function($event){return _vm.getCategoryGoods(single.id)}}},[_c('image-pic',{attrs:{\"fit\":\"contain\",\"src\":single.img}}),_c('span',[_vm._v(_vm._s(single.text))])],1)}),1)],1)])]):_c('div',_vm._l((_vm.cate),function(item,index){return _c('div',{key:index,staticClass:\"main__item\"},[_c('h5',{staticClass:\"main__item__title\"},[_vm._v(_vm._s(item.text))]),_c('div',{staticClass:\"main__item__content\"},[_c('van-grid',{attrs:{\"column-num\":3,\"border\":false}},_vm._l((item.children),function(single,idx){return _c('van-grid-item',{key:idx,staticClass:\"single\",on:{\"click\":function($event){return _vm.getCategoryGoods(single.id)}}},[_c('image-pic',{attrs:{\"fit\":\"contain\",\"src\":single.img},on:{\"click\":function($event){return _vm.getCategoryGoods(single.id)}}}),_c('span',[_vm._v(_vm._s(single.text))])],1)}),1),_c('van-divider',{attrs:{\"hairline\":\"\"}})],1)])}),0)],1)]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"category\">\n    <van-tree-select\n      height=\"calc(100vh - 50px)\"\n      :items=\"items\"\n      :main-active-index.sync=\"active\"\n      @click-nav=\"onNavClick()\"\n    >\n      <template #content>\n        <div class=\"main\">\n          <image-pic width=\"100%\" height=\"85\" fit=\"fill\" :src=\"banner.img\" />\n          <div v-if=\"active == 0\">\n            <h3 class=\"item__title\">热门推荐</h3>\n            <div class=\"main__item__content\">\n              <div class=\"main__item\">\n                <van-grid :column-num=\"3\" :border=\"false\">\n                  <van-grid-item\n                  @click=\"getCategoryGoods(single.id)\"\n                    v-for=\"(single, idx) in cate\"\n                    :key=\"idx\"\n                    class=\"single\"\n                  >\n                    <image-pic fit=\"contain\" :src=\"single.img\" />\n                    <span>{{ single.text }}</span>\n                  </van-grid-item>\n                </van-grid>\n              </div>\n            </div>\n          </div>\n\n          <div v-else>\n            <div v-for=\"(item, index) in cate\" :key=\"index\" class=\"main__item\">\n              <h5 class=\"main__item__title\">{{ item.text }}</h5>\n              <div class=\"main__item__content\">\n                <van-grid :column-num=\"3\" :border=\"false\">\n                  <van-grid-item\n                  @click=\"getCategoryGoods(single.id)\"\n                    v-for=\"(single, idx) in item.children\"\n                    :key=\"idx\"\n                    class=\"single\"\n                  >\n                    <image-pic fit=\"contain\" :src=\"single.img\" @click=\"getCategoryGoods(single.id)\"/>\n                    <span>{{ single.text }}</span>\n                  </van-grid-item>\n                </van-grid>\n                <van-divider hairline />\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </van-tree-select>\n  </div>\n</template>\n\n<script>\nimport { getCateItems, getCateContent } from \"@/api/category\";\n\nexport default {\n  name: \"Category\",\n  data() {\n    return {\n      active: 0,\n      items: [],\n      cate: [],\n      banner: {},\n    };\n  },\n  mounted() {\n    this.getCateItems();\n    this.getCateContent();\n  },\n\n  methods: {\n    getCateItems() {\n      getCateItems().then((res) => {\n        let list = res.data.items;\n        list.forEach((item) => {\n          item.text = item.name;\n        });\n        this.items = list;\n      });\n    },\n    getCateContent() {\n      let params = {};\n      if (this.active == 0) {\n        params = { categoryId: this.active };\n      } else {\n        params = { categoryId: this.items[this.active].categoryId };\n      }\n      getCateContent(params).then((res) => {\n        this.banner = res.data.content.bannerVo;\n        this.cate = res.data.content.categoryItemVo;\n      });\n    },\n    onNavClick() {\n      this.getCateContent();\n    },\n    getCategoryGoods(id) {\n      this.$router.push({\n        path: '/search/list',\n        query : {categoryId:id}\n      })\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/styles/variables.scss\";\n.item__title {\n  padding: 20px;\n  font-weight: bold;\n  color: $black;\n  font-size: $small;\n}\n.category {\n  .main {\n    box-sizing: border-box;\n    padding: 10px;\n    .main__item {\n      .main__item__title {\n        color: $black;\n        font-size: 20px;\n        font-weight: bold;\n        padding: 16px;\n      }\n      .main__item__content {\n        .single {\n          text-align: center;\n          color: $black;\n          font-size: $mini;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9bdfd670&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=9bdfd670&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9bdfd670\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\n\nexport function getCateItems() {\n  return request({\n    url: '/category/items',\n    method: 'get'\n  })\n}\n\nexport function getCateContent(params) {\n  return request({\n    url: '/category/content',\n    method: 'get',\n    params : params\n  })\n}\n\nexport function getChildrenCate(id) {\n  return request({\n    url: `/category/children/${id}`,\n    method: 'get',\n  })\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=9bdfd670&lang=scss&scoped=true&\""],"sourceRoot":""}