(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-586c0690"],{2563:function(e,a,t){"use strict";t("aaf0")},7934:function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"forget-container"},[t("nav-bar",{attrs:{title:"找回密码"}},[t("van-icon",{attrs:{color:e.variables.black,size:"18"}})],1),t("van-form",{staticClass:"form",attrs:{"validate-trigger":"onSubmit","show-error":!1},on:{submit:e.onSubmit}},[t("van-field",{attrs:{type:"text",required:"",clearable:"",name:"注册邮箱",label:"注册邮箱",placeholder:"请输入邮箱地址",maxlength:"20",rules:[{validator:e.checkEmail,required:!0,message:"请输入正确的邮箱地址!"}]},model:{value:e.form.email,callback:function(a){e.$set(e.form,"email",a)},expression:"form.email"}}),t("van-field",{attrs:{type:"number",required:"",center:"",clearable:"",name:"邮箱验证码",label:"邮箱验证码",placeholder:"请输入验证码",maxlength:"4",rules:[{required:!0,message:"请输入正确的邮箱验证码！"}]},model:{value:e.form.mailcode,callback:function(a){e.$set(e.form,"mailcode",a)},expression:"form.mailcode"}},[t("van-button",{attrs:{slot:"button",size:"small",plain:"",type:"info","native-type":"button"},on:{click:function(a){return a.stopPropagation(),e.getMailCode(a)}},slot:"button"},[e._v("发送验证码")])],1),t("van-field",{attrs:{type:"password",required:"",clearable:"",name:"设置新密码",label:"设置新密码",placeholder:"请设置新密码",maxlength:"20",rules:[{required:!0,message:"请设置密码!"}]},model:{value:e.form.password,callback:function(a){e.$set(e.form,"password",a)},expression:"form.password"}}),t("van-field",{attrs:{type:"password",required:"",clearable:"",name:"确认新密码",label:"确认新密码",placeholder:"请再次输入密码确认",maxlength:"20",rules:[{required:!0,message:"请再次输入密码确认!"}]},model:{value:e.form.confirmPassword,callback:function(a){e.$set(e.form,"confirmPassword",a)},expression:"form.confirmPassword"}}),t("div",{staticStyle:{margin:"36px"}},[t("van-button",{attrs:{round:"",block:"",loading:e.loading,type:"info","loading-text":"登录中...","native-type":"submit"}},[e._v("重置密码")])],1)],1)],1)},r=[],n=(t("d3b7"),t("cf1e")),i=t.n(n),s=t("c24f"),l=t("b775");function c(e){return Object(l["a"])({url:"/public/mail",method:"post",data:e})}var m={name:"Forget",data:function(){return{form:{email:"",password:"",confirmPassword:"",mailcode:""},loading:!1}},computed:{variables:function(){return i.a}},methods:{getMailCode:function(){var e=this,a=this.form.email;a&&this.checkEmail(a)?c({email:this.form.email}).then((function(a){e.$notify({type:"success",message:"邮箱验证码已发送",duration:2e3})})):this.$toast.fail("请先输入正确的邮箱地址")},checkEmail:function(e){var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(e)},onSubmit:function(){var e=this,a=this.form,t=a.password,o=a.confirmPassword;t===o?(this.loading=!0,Object(s["j"])(this.form).then((function(a){e.$notify({type:"success",message:"重置密码成功，请登录",duration:2500,onOpened:function(){e.$router.back()}})})).finally((function(){e.loading=!1}))):this.$toast.fail("确认密码与设置的不一致")}}},u=m,d=(t("2563"),t("2877")),f=Object(d["a"])(u,o,r,!1,null,"029137d0",null);a["default"]=f.exports},aaf0:function(e,a,t){}}]);
//# sourceMappingURL=chunk-586c0690.16a3a315.js.map