(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cd86273"],{"04cd":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-nav-bar"},[r("van-icon",{staticStyle:{padding:"12px 0 12px 12px"},attrs:{size:"16",name:"arrow-left"},on:{click:function(e){return t.$router.back()}}}),r("van-search",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入搜索关键词","show-action":"",clearable:""},on:{search:t.onSearch,cancel:function(e){return t.$router.back()}},scopedSlots:t._u([{key:"action",fn:function(){return[r("van-button",{attrs:{round:"",type:"primary",size:"mini",color:t.variables.red},on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)},a=[],c=(r("498a"),r("cf1e")),i=r.n(c),s={props:{value:{type:String,default:""}},computed:{variables:function(){return i.a},keyword:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{onSearch:function(){var t=this.keyword.trim();t?(this.$store.dispatch("search/setKey",t),this.$emit("handleSearch",t)):this.$toast("请输入要搜索内容")}}},o=s,u=(r("2bfe"),r("2877")),l=Object(u["a"])(o,n,a,!1,null,"1b7daa2a",null);e["a"]=l.exports},1925:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return i}));var n=r("b775");function a(){return Object(n["a"])({url:"/search/hotList",method:"get"})}function c(t){return Object(n["a"])({url:"/search/result",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/search/resultByCategory",method:"get",params:t})}},"2bfe":function(t,e,r){"use strict";r("e085")},"498a":function(t,e,r){"use strict";var n=r("23e7"),a=r("58a8").trim,c=r("c8d2");n({target:"String",proto:!0,forced:c("trim")},{trim:function(){return a(this)}})},5530:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},"9d02":function(t,e,r){"use strict";r("d35f")},c8d2:function(t,e,r){var n=r("d039"),a=r("5899"),c="​᠎";t.exports=function(t){return n((function(){return!!a[t]()||c[t]()!=c||a[t].name!==t}))}},d35f:function(t,e,r){},dbb4:function(t,e,r){var n=r("23e7"),a=r("83ab"),c=r("56ef"),i=r("fc6a"),s=r("06cf"),o=r("8418");n({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,r,n=i(t),a=s.f,u=c(n),l={},h=0;while(u.length>h)r=a(n,e=u[h++]),void 0!==r&&o(l,e,r);return l}})},e085:function(t,e,r){},e439:function(t,e,r){var n=r("23e7"),a=r("d039"),c=r("fc6a"),i=r("06cf").f,s=r("83ab"),o=a((function(){i(1)})),u=!s||o;n({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return i(c(t),e)}})},efe3:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search"},[r("nav-bar",{on:{handleSearch:t.handleSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),r("search-words",{attrs:{"hot-list":t.hotList}})],1)},a=[],c=r("1925"),i=r("04cd"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-words"},[t.searchKey.length>0?r("div",{staticClass:"history"},[r("h3",{staticClass:"history__title"},[r("p",{staticClass:"history__title__left"},[r("van-icon",{attrs:{name:"underway-o",size:"16"}}),r("span",{staticClass:"text"},[t._v("最近搜索")])],1),r("p",{staticClass:"history__title__right",on:{click:t.onDelete}},[r("van-icon",{attrs:{name:"delete",size:"16"}})],1)]),r("div",{staticClass:"history__main"},t._l(t.searchKey,(function(e,n){return r("p",{key:n,staticClass:"history__main__item",on:{click:function(r){return t.onSearch(e)}}},[t._v(t._s(e))])})),0)]):t._e(),r("div",{staticClass:"hot"},[r("h3",{staticClass:"hot__title"},[r("div",{staticClass:"hot__title__left"},[r("van-icon",{attrs:{name:"fire-o",size:"16"}}),r("span",{staticClass:"text"},[t._v("热门搜索")])],1)]),r("div",{staticClass:"hot__main"},t._l(t.hotList,(function(e,n){return r("p",{key:n,staticClass:"hot__main__item",on:{click:function(r){return t.onSearch(e.text)}}},[t._v(t._s(e.text))])})),0)])])},o=[],u=r("5530"),l=r("2f62"),h={props:{hotList:{type:Array,default:function(){return[]}}},computed:Object(u["a"])({},Object(l["b"])(["searchKey"])),methods:{onDelete:function(){var t=this;this.$dialog.confirm({title:"提示",message:"确定清空所有搜索记录吗？"}).then((function(){t.$store.dispatch("search/delKey")})).catch((function(){}))},onSearch:function(t){t&&(this.$store.dispatch("search/setKey",t),this.$router.push({path:"/search/list",query:{key:t}}))}}},f=h,d=(r("9d02"),r("2877")),p=Object(d["a"])(f,s,o,!1,null,"6b3964ab",null),b=p.exports,v={name:"Search",components:{NavBar:i["a"],SearchWords:b},data:function(){return{value:"",hotList:[]}},mounted:function(){this.getHot()},methods:{getHot:function(){var t=this;Object(c["a"])().then((function(e){t.hotList=e.data.hotList}))},handleSearch:function(t){this.$router.push({path:"/search/list",query:{key:t}})}}},y=v,m=Object(d["a"])(y,n,a,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-6cd86273.206b70e3.js.map