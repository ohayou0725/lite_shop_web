{"version":3,"sources":["webpack:///./src/views/address/list.vue?f0cb","webpack:///src/views/address/list.vue","webpack:///./src/views/address/list.vue?c103","webpack:///./src/views/address/list.vue","webpack:///./src/views/address/list.vue?900e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","list","on","onAdd","onEdit","onSelect","model","value","callback","$$v","selectId","expression","_e","staticRenderFns","name","components","NavBar","data","defaultId","isEmpty","goodsId","methods","getAddressList","length","id","item","receiver","tel","receiverMobile","address","area","isDefault","default","$toast","loading","addressId","$router","go","push","path","query","type","index","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,UAAUH,EAAG,mBAAmB,CAACG,MAAM,CAAC,KAAOP,EAAIQ,KAAK,mBAAmB,KAAK,YAAa,GAAMC,GAAG,CAAC,IAAMT,EAAIU,MAAM,KAAOV,EAAIW,OAAO,OAASX,EAAIY,UAAUC,MAAM,CAACC,MAAOd,EAAY,SAAEe,SAAS,SAAUC,GAAMhB,EAAIiB,SAASD,GAAKE,WAAW,cAAelB,EAAW,QAAEI,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,eAAeP,EAAImB,MAAM,IAC5eC,EAAkB,G,oECqBtB,GACEC,KAAM,UACNC,WAAY,CACVC,OAAJ,QAEEC,KALF,WAMI,MAAO,CACLC,UAAW,GACXR,SAAN,GACMT,KAAM,GACNkB,SAAS,EACTC,QAAN,KAIE,QAfF,WAeA,wJACA,2BACA,mBAFA,8CAIEC,QAAS,CAEPC,eAFJ,WAEA,WACM,OAAN,OAAM,GAAN,wBACA,mBADA,MACA,GADA,EAEQ,EAAR,8EACQ,EAAR,qBACYrB,GAAQA,EAAKsB,OACf,EAAV,wBACY,MAAO,CACLC,GAAIC,EAAKD,GACTV,KAAMW,EAAKC,SACXC,IAAKF,EAAKG,eACVC,QAASJ,EAAKK,KAAOL,EAAKI,QAC1BE,UAAWN,EAAKO,YAKpB,EAAV,WAEQ,EAAR,mBAII3B,SAzBJ,SAyBA,cACUoB,EAAKD,IAAM9B,KAAKgB,UAIpBhB,KAAKuC,OAAOC,QAAQ,UACpB,OAAN,OAAM,CAAN,CACQC,UAAWV,EAAKD,GAChBJ,QAAR,4BACA,kBACQ,EAAR,cACQ,EAAR,eACQ,EAAR,mBAVQ1B,KAAK0C,QAAQC,IAAI,IAcrBlC,MAzCJ,WA0CMT,KAAK0C,QAAQE,KAAK,CAChBC,KAAM,gBACNC,MAAO,CACLC,KAAM,MAKZrC,OAlDJ,SAkDA,KACMV,KAAK0C,QAAQE,KAAK,CAChBC,KAAM,gBACNC,MAAO,CACLhB,GAAI9B,KAAKO,KAAKyC,GAAOlB,GACrBiB,KAAM,QChG6U,I,wBCQzVE,EAAY,eACd,EACAnD,EACAqB,GACA,EACA,KACA,WACA,MAIa,aAAA8B,E,2CCnBf,W","file":"static/js/chunk-656c14c7.0b9e38df.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"address-list\"},[_c('nav-bar',{attrs:{\"title\":\"我的地址\"}}),_c('van-address-list',{attrs:{\"list\":_vm.list,\"default-tag-text\":\"默认\",\"switchable\":true},on:{\"add\":_vm.onAdd,\"edit\":_vm.onEdit,\"select\":_vm.onSelect},model:{value:(_vm.selectId),callback:function ($$v) {_vm.selectId=$$v},expression:\"selectId\"}}),(_vm.isEmpty)?_c('van-empty',{attrs:{\"description\":\"快去新增一个地址吧\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"address-list\">\n    <nav-bar title=\"我的地址\" />\n\n    <van-address-list\n      v-model=\"selectId\"\n      :list=\"list\"\n      default-tag-text=\"默认\"\n      @add=\"onAdd\"\n      @edit=\"onEdit\"\n      @select=\"onSelect\"\n      :switchable=\"true\"\n    />\n\n    <van-empty v-if=\"isEmpty\" description=\"快去新增一个地址吧\" />\n  </div>\n</template>\n\n<script>\nimport NavBar from '@/components/NavBar'\nimport { getAddressList, setAddressList } from '@/api/user'\n\nexport default {\n  name: 'Address',\n  components: {\n    NavBar\n  },\n  data() {\n    return {\n      defaultId: '',\n      selectId : '',\n      list: [],\n      isEmpty: false,\n      goodsId : ''\n    }\n  },\n\n  async mounted() {\n    this.$toast.loading('加载中...')\n    this.getAddressList()\n  },\n  methods: {\n    // 获取地址\n    getAddressList() {\n      getAddressList().then((res) => {\n        const { list = [] } = res.data\n        this.defaultId = list.filter(item=>{return item.id==this.$route.query.selectId})[0].id\n        this.selectId = this.defaultId\n        if (list && list.length) {\n          this.list = list.map((item) => {\n            return {\n              id: item.id,\n              name: item.receiver,\n              tel: item.receiverMobile,\n              address: item.area + item.address,\n              isDefault: item.default\n            }\n          })\n          \n        } else {\n          this.isEmpty = true\n        }\n        this.$toast.clear()\n      })\n    },\n    // 选择地址\n    onSelect(item) {\n      if (item.id == this.selectId) {\n        this.$router.go(-1)\n        return\n      }\n      this.$toast.loading('加载中...')\n      setAddressList({\n        addressId: item.id,\n        goodsId : this.$route.query.goodsId\n      }).then((res) => {\n        this.selectId = item.id\n        this.$toast.clear()\n        this.$router.go(-1)\n      })\n    },\n    // 新增地址\n    onAdd() {\n      this.$router.push({\n        path: '/address/edit',\n        query: {\n          type: 1\n        }\n      })\n    },\n    // 编辑地址\n    onEdit(item, index) {\n      this.$router.push({\n        path: '/address/edit',\n        query: {\n          id: this.list[index].id,\n          type: 2\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.address-list {\n  background: #f5f5f5;\n  min-height: 100vh;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=0a6d536a&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=0a6d536a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a6d536a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=0a6d536a&lang=scss&scoped=true&\""],"sourceRoot":""}