(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c53d989"],{6539:function(t,e,a){},b995:function(t,e,a){"use strict";a("6539")},bd01:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[t._m(0),a("van-form",{staticClass:"form",attrs:{"validate-trigger":"onSubmit","show-error":!1},on:{submit:t.onSubmit}},[a("van-field",{attrs:{type:"text",required:"",clearable:"",name:"手机号",label:"手机号",placeholder:"请输入手机号",rules:[{validator:t.checkMobile,required:!0,message:"请输入正确的手机号"}]},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}}),a("van-field",{attrs:{type:"password",required:"",center:"",clearable:"",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请输入正确的密码！"}]},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t.form.isCaptchaShow?a("van-field",{attrs:{required:"",center:"",clearable:"",name:"验证码",label:"验证码",placeholder:"图形验证码",rules:[{required:!0,message:"请输入正确的图形验证码！"}]},scopedSlots:t._u([{key:"button",fn:function(){return[a("div",{staticStyle:{background:"#eee",height:"34px"},on:{click:t.getCaptcha}},[a("img",{staticStyle:{height:"34px"},attrs:{src:"data:image/png;base64,"+t.imgurl}})])]},proxy:!0}],null,!1,580094624),model:{value:t.form.captcha,callback:function(e){t.$set(t.form,"captcha",e)},expression:"form.captcha"}}):t._e(),a("div",{staticClass:"forget"},[a("router-link",{attrs:{tag:"span",to:"/forget"}},[t._v("忘记密码")])],1),a("div",{staticStyle:{margin:"36px"}},[a("van-button",{attrs:{round:"",block:"",loading:t.loading,type:"info","loading-text":"登录中...","native-type":"submit"}},[t._v("登录")]),a("van-button",{staticStyle:{"margin-top":"10px"},attrs:{plain:"",round:"",block:"",type:"info","native-type":"button",to:"/registration"}},[t._v("注册")])],1)],1)],1)},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"header"},[o("img",{staticClass:"header__logo",attrs:{src:a("cf05"),alt:"logo"}}),o("p",{staticClass:"header__title"},[t._v("Lite-shop")])])}],i=a("c24f"),n={name:"Login",data:function(){return{form:{mobile:"",password:"",captcha:"",isCaptchaShow:!0,captchaId:""},loading:!1,imgurl:""}},watch:{$route:{handler:function(t){console.log("route:",t),this.redirect=t.query&&t.query.redirect||"/"},immediate:!0}},mounted:function(){this.getCaptcha()},methods:{getCaptcha:function(){var t=this;Object(i["e"])().then((function(e){var a=e.data.captcha;t.form.captchaId=a.captchaId,t.imgurl=a.img}))},checkMobile:function(t){var e=/^1\d{10}$/;return e.test(t)},onSubmit:function(){var t=this;this.loading=!0,this.$store.dispatch("user/login",this.form).then((function(){t.$store.dispatch("user/getInfo"),t.$notify({type:"success",message:"登录成功",duration:2e3,onOpened:function(){t.loading=!1,location.href=t.redirect}})})).catch((function(e){t.loading=!1}))}}},s=n,c=(a("b995"),a("2877")),l=Object(c["a"])(s,o,r,!1,null,"7938768a",null);e["default"]=l.exports},cf05:function(t,e,a){t.exports=a.p+"static/img/logo.973a6b85.png"}}]);
//# sourceMappingURL=chunk-6c53d989.729e6b02.js.map